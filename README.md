# 🎵 音乐总结卡片生成器 (Music Summary Card Generator)

一个用于创建精美音乐播放界面截图的工具，支持横屏 4K (3840×2160) 和竖屏 (2160×2400~4320) 高清输出，适用于年度音乐评选、社交媒体分享等场景。

## ✨ 功能特点

### 🖼️ 双布局模式
- **横屏模式**: 3840×2160 (4K) 分辨率，适合桌面壁纸、视频封面
- **竖屏模式**: 2160×2400~4320 可变高度，适合手机壁纸、社交媒体
  - 封面+标题模块 (2160×2400)
  - 歌词+进度条模块 (2160×960) - 可选
  - 评价模块 (2160×960) - 可选

### 🎨 双主题系统
- **深色主题**: 动态模糊背景，现代科技感
- **浅色主题**: 墨点艺术背景，文艺复古风

### 🎵 音频支持
- **ID3标签读取**: 自动从 MP3/FLAC 文件提取歌曲名、艺术家、专辑封面
- **LRC歌词**: 支持带时间戳的 LRC 歌词格式
- **翻译显示**: 支持中英文歌词对照显示
- **进度模拟**: 可调节播放进度，歌词自动滚动高亮

### ⚙️ 高度可定制
- 封面大小、圆角、位置
- 标题/歌手/歌词/评价字体、字号、颜色(灰度)
- 各元素间距、对齐方式
- 歌词区域高度、宽度、渐隐效果
- 评价框大小、背景透明度
- 背景模糊强度
- 编辑模式支持拖拽调整位置

### 📤 导出功能
- PNG 高清图片导出
- 一键复制到剪贴板
- 横竖屏配置分别保存

## 🚀 快速开始

### 方法一: 直接打开 (最简单)

双击 `src/index.html` 文件在浏览器中打开即可使用。

> 注意: 部分浏览器可能限制本地文件的某些功能，建议使用方法二。

### 方法二: 使用本地服务器 (推荐)

**使用 VS Code:**
1. 安装 VS Code 和 Python3
2. 在VS Code 中运行start_server.py

## 📖 使用指南

### 基本流程

1. **导入音频** (可选): 点击"选择音频文件"导入 MP3/FLAC，自动提取信息
2. **导入封面** (可选): 点击"选择封面图片"导入自定义封面
3. **填写信息**: 在侧边栏填写歌曲名、艺术家名
4. **添加歌词**: 粘贴 LRC 格式歌词，支持翻译
5. **调节样式**: 根据需要调整各项参数
6. **调节进度**: 拖动进度条选择想要截取的时间点
7. **导出图片**: 点击"导出图片"或"复制到剪贴板"

### LRC 歌词格式示例

```
[00:12.00]第一句歌词
[00:12.00]First line lyrics
[00:18.50]第二句歌词
[00:18.50]Second line lyrics
```

### 评价功能

1. 勾选"显示评价"
2. 在"评价内容"输入您的评价文字
3. 填写署名和日期
4. 调节评价框大小和透明度

### 竖屏模式

1. 点击"竖屏"切换到竖屏布局
2. 勾选需要的模块（歌词、评价）
3. 选择标题位置（封面上方/下方）
4. 调节各项参数，竖屏模式有独立的配置保存

## 📁 项目结构

```
music_summary/
├── README.md               # 项目说明文档
├── doc/                    # 设计文档
│   ├── requirement.txt     # 需求说明
│   ├── structure.md        # 程序结构
│   ├── target-style.json   # 目标样式配置
│   ├── dark-skin.md        # 深色主题说明
│   └── light-skin.md       # 浅色主题说明
└── src/                    # 源代码
    ├── index.html          # 主页面
    ├── style.css           # 样式表
    ├── script.js           # 核心逻辑
    └── colorLibrary.js     # 颜色处理库
```

## 🛠️ 技术栈

- **纯前端**: HTML5 + CSS3 + JavaScript (ES6+)
- **无需构建**: 无需 npm/webpack，直接运行
- **外部依赖** (通过 CDN 加载):
  - [dom-to-image-more](https://github.com/1904labs/dom-to-image-more) - 图片导出
  - [ColorThief](https://lokeshdhakar.com/projects/color-thief/) - 封面主色提取
  - [jsmediatags](https://github.com/aadsm/jsmediatags) - 音频标签读取

## ⌨️ 默认参数

### 横屏模式
| 参数 | 浅色主题 | 深色主题 |
|------|----------|----------|
| 封面大小 | 1200px | 1200px |
| 标题字号 | 72px | 72px |
| 歌词字号 | 72px | 72px |
| 标题灰度 | 50 | 255 |
| 歌词灰度 | 10 | 255 |

### 竖屏模式
| 参数 | 值 |
|------|-----|
| 封面大小 | 1600px |
| 标题字号 | 100px |
| 歌手字号 | 80px |
| 进度条粗细 | 24px |

## 🔧 浏览器兼容性

- ✅ Chrome 80+
- ✅ Firefox 75+
- ✅ Edge 80+
- ✅ Safari 13+

## 📝 更新日志

### v2.0 (2024.12)
- 新增竖屏模式，支持模块化布局
- 新增歌词栏宽度调节
- 横竖屏配置分别保存
- 优化歌词滚动同步
- 优化评价栏布局
- 新增默认参数配置

### v1.0 (2024.12)
- 初始版本发布
- 支持横屏 4K 输出
- 深色/浅色双主题
- LRC 歌词解析和翻译
- ID3 标签读取
- 元素拖拽编辑

## 📄 许可证

MIT License

## 🙏 致谢

感谢以下开源项目:
- dom-to-image-more
- ColorThief
- jsmediatags
