# 🎵 音乐总结工具 (Music Summary)

一个用于创建精美音乐播放界面截图的年度音乐评选工具，支持 3840×2160 (4K) 高清输出。

## ✨ 功能特点

- **高清输出**: 支持 3840×2160 分辨率的 PNG 图片导出
- **多种模式**: 
  - 播放器模式 - 模拟音乐播放界面
  - 评价模式 - 添加个人评价的播放界面
  - 歌手/专辑模式 - 展示歌手或专辑封面
- **双主题**: 深色动态模糊背景 / 浅色墨点艺术背景
- **ID3标签支持**: 自动从 MP3/FLAC 等音频文件提取歌曲信息
- **LRC歌词**: 支持带时间戳的 LRC 歌词格式和翻译显示
- **实时预览**: 所有设置修改即时预览
- **灵活配置**: 封面大小、字体大小、圆角、模糊强度等均可调节
- **元素控制**: 可自由显示/隐藏歌词、进度条、控制按钮等

## 🚀 快速开始

### 方法一: 使用 Python 启动 (推荐)

1. 确保已安装 Python 3.x
2. 打开终端，进入 `src` 目录
3. 运行启动脚本:

```bash
python start_server.py
```

4. 浏览器将自动打开 `http://localhost:8080`

### 方法二: 直接在浏览器中打开

由于使用了外部库，建议使用本地服务器方式启动。如果您使用 VS Code，可以安装 "Live Server" 扩展，然后右键点击 `index.html` 选择 "Open with Live Server"。

## 📁 文件结构

```
music_summary/
├── doc/                    # 设计文档
│   ├── requirement.txt     # 需求说明
│   ├── structure.md        # 程序结构
│   ├── target-style.json   # 目标样式配置
│   ├── dark-skin.md        # 深色主题说明
│   └── light-skin.md       # 浅色主题说明
├── src/                    # 源代码
│   ├── index.html          # 主页面
│   ├── style.css           # 样式表
│   ├── script.js           # 核心逻辑
│   ├── colorLibrary.js     # 颜色库
│   └── start_server.py     # 服务器启动脚本
└── README.md               # 本文件
```

## 📖 使用说明

### 1. 上传文件

- **音频文件**: 支持 MP3、WAV、FLAC、OGG、M4A 格式，程序会自动提取 ID3 标签信息
- **封面图片**: 支持常见图片格式，如果音频文件包含封面则会自动提取

### 2. 编辑信息

- 可手动编辑歌曲名称、歌手、专辑名称
- 歌词支持 LRC 格式，例如:
  ```
  [00:00.00]歌词第一行
  [00:05.00]歌词第二行
  [00:05.00]翻译第二行
  ```

### 3. 调整进度

- 使用进度滑块选择歌曲播放位置
- 歌词会根据进度自动滚动到对应位置

### 4. 样式设置

- **封面大小**: 调整专辑封面显示尺寸
- **歌词字号**: 调整歌词文字大小
- **圆角大小**: 调整封面圆角程度
- **背景模糊**: 调整深色主题的模糊强度

### 5. 导出截图

点击 "📷 导出截图 (PNG)" 按钮，将以 3840×2160 分辨率导出 PNG 图片。

## 🎨 主题说明

### 深色主题

- 使用专辑封面作为背景
- 应用高斯模糊和暗色叠加
- 模拟 Apple Music 的沉浸式播放界面

### 浅色主题

- 使用从封面提取的主色生成墨点背景
- 艺术感强，适合展示和分享
- 点击 "刷新背景" 可重新生成墨点位置

## 🔧 技术栈

- **HTML5 / CSS3 / JavaScript (ES6+)**
- **html2canvas**: 用于截图导出
- **Color Thief**: 从图片提取主色
- **jsmediatags**: 解析音频文件的 ID3 标签

## 📝 注意事项

1. 首次加载可能需要等待外部库加载完成
2. 导出大尺寸图片可能需要几秒钟时间
3. 建议使用 Chrome 或 Edge 浏览器以获得最佳体验
4. 由于浏览器安全限制，部分功能需要通过本地服务器访问

## 📄 许可证

本项目仅供个人学习和使用。

---

**🎄 祝您年度音乐评选顺利！Happy Music Summary!**
